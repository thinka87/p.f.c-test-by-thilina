// DO NOT CHANGE THIS FILE!

const apiUrl = `${Cypress.env("apiUrl")}`

describe('P.F.C Test IBAN validation API', () => {

  it('Provides a functional healthcheck', () => {
    cy.request({
      failOnStatusCode: false,
      method: 'GET',
      url: `${apiUrl}/ping`,
    }).then((response) => {
      expect(response.status).to.eq(200)
    })
  })

  it('For all iban numbers, valdation should return 200', () => {
    const  iban_numbers = ["AL47212110090000000235698741","DZ3512341234123412341234",
                            "AD1200012030200359100100","AO44123412341234123412341",
                            "AT611904300234573201","AZ21NABZ00000000137010001944",
                            "BH67BMAG00001299123456","BE68539007547034",
                            "BJ83A12312341234123412341234","BA391290079401028494",
                            "BR9700360305000010009795493P1","VG96VPVG0000012345678901",
                            "BG80BNBG96611020345678","BF4512341234123412341234123",
                            "BI33123412341234","BY13NBRB3600900000002Z00AB00",
                            "CM1512341234123412341234123","CV05123412341234123412341",
                            "CF4220001000010120069700160","TD8960003000203710253860174",
                            "KM4600005000010010904400137","CG3930013020003710721836132",
                            "CR05015202001026284066","CI77A12312341234123412341234",
                            "HR1210010051863000160","CY17002001280000001200527600",
                            "CZ6508000000192000145399","DK5000400440116243",
                            "FO2000400440116243","GL2000400440116243",
                            "DJ2110002010010409943020008","DO28BAGR00000001212453611324",
                            "EG380019000500000000263180002","SV62CENR00000000000000700025",
                            "GQ7050002001003715228190196","EE382200221020145685",
                            "FI2112345600000785","AX2112345600000785",
                            "FR1420041010050500013M02606","GF4120041010050500013M02606",
                            "PF5720041010050500013M02606","TF2120041010050500013M02606",
                            "GP1120041010050500013M02606","MQ5120041010050500013M02606",
                            "YT3120041010050500013M02606","NC8420041010050500013M02606",
                            "RE4220041010050500013M02606","BL6820041010050500013M02606",
                            "MF8420041010050500013M02606","PM3620041010050500013M02606",
                            "WF9120041010050500013M02606","GA2142001007341520000106963",
                            "GE29NB0000000101904917","DE89370400440532013000",
                            "GI75NWBK000000007099453","GR1601101250000000012300695",
                            "GT82TRAJ01020000001210029690","GW04GW1430010181800637601",
                            "HN54PISA00000000000000123124","HU42117730161111101800000000",
                            "IS140159260076545510730339","AA110011123Z5678",
                            "IR081234123412341234123412","IQ98NBIQ850123456789012",
                            "IE29AIBK93115212345678","IL620108000000099999999",
                            "IT60X0542811101000000123456","JO94CBJO0010000000000131000302",
                            "KZ86125KZT5004100100","XK051212012345678906",
                            "KW81CBKU0000000000001234560101",
                            "LV80BANK0000435195001","LB62099900000001001901229114",
                            "LI21088100002324013AA","LT121000011101001000",
                            "LU280019400644750000","MK07250120000058984",
                            "MG4012341234123412341234123","ML75A12312341234123412341234",
                            "MT84MALT011000012345MTLCAST001S","MR1300020001010000123456753",
                            "MU17BOMM0101101030300200000MUR","MD24AG000225100013104168",
                            "MC5811222000010123456789030","ME25505000012345678951",
                            "MA64011519000001205000534921","MZ97123412341234123412341",
                            "NL91ABNA0417164300","NI92BAMC000000000000000003123123",
                            "NE58NE0380100100130305000268","NO9386011117947",
                            "PK36SCBL0000001123456702","PS92PALS000000000400123456702",
                            "PL61109010140000071219812874","PT50000201231234567890154",
                            "QA58DOHB00001234567890ABCDEFG","RO49AAAA1B31007593840000",
                            "LC55HEMM000100010012001200023015","SM86U0322509800000000270100",
                            "ST68000100010051845310112","SA0380000000608010167519",
                            "SN15A12312341234123412341234","RS35260005601001611379",
                            "SC18SSCB11010000000000001497USD","SK3112000000198742637541",
                            "SI56191000000123438","ES9121000418450200051332",
                            "SE4550000000058398257466","CH9300762011623852957",
                            "TL380080012345678910157","TG53TG0090604310346500400070",
                            "TN5910006035183598478831","TR330006100519786457841326",
                            "UA213996220000026007233566001","AE070331234567890123456","GB29NWBK60161331926819"]
    
    iban_numbers.forEach((ib) => {
    cy.request({
      failOnStatusCode: false,
      method: 'POST',
      url: `${apiUrl}/validate-iban`,
      headers: {
        "Content-Type": "application/json"
      },
      body: {
        iban_number: ib
      }
    }).then((response) => {
      assert.equal(response.status, 200, `For IBAN number ${ib} should return 200 as status code`)
 
    })
  })
}),

it('For all invalid iban numbers, valdation should return 400', () => {
  const  iban_numbers_invalid = ["AL90610537001478001201022904","DZ2421332113244423113453",
                                  "AD3000011029300120000251","AO42424331142111442213433",
                                  "AT021603243374190105","AZ1Z000002011B090A7104400N03",
                                  "BHB90025A2607G4M906131","BE56000457749833",
                                  "BJ23123A11381334121424434232","BA284120940009971934",
                                  "BRP60190090950903173073000504","VG819035090PGV42V6060710",
                                  "BG1280B3567416B9G6N008","BF1445421134422421332331321",
                                  "BI13434232433211","BY0RB93A200000B103NB00006Z00",
                                  "CM4252433313221131134124214","CV41014123214323423351214",
                                  "CF1091002004001600000261720","TD0065701303361040208009872",
                                  "KM0040076095400000010430101","CG0736318733020230011391002",
                                  "CR82066500110420652002","CI12234132221A27141347344313",
                                  "HR2601000111016058003","CY07806000000012100127020520",
                                  "CZ0000469003991008505120","DK0140564241040030",
                                  "FO0213400260044140","GL4040123006021440",
                                  "DJ1130490200100089002004021","DOAB24G400112060152R28003130",
                                  "EG810003000216290050803000000","SV0000R00000000E0N25C7006020",
                                  "GQ0009100618077225120009315","EE222220063810455108",
                                  "FI2071025348506100","AX2210081554060703",
                                  "FR046563201M100105020040001","GF3050002M00100521061414060",
                                  "PF200210016350M750010050604","TF16020504M0600300210200151",
                                  "GP010006310M116201500540002","MQ115626500000201030050M401",
                                  "YT42300010011560003065M1200","NC054004110000010M263508206",
                                  "RE006M402004202516100000513","BL06052M1200005841631600000",
                                  "MF451050620020060830010M014","PM13231065005400660010002M0",
                                  "WFM000564160090052231001001","GA0003201400531062149700612",
                                  "GE0119200B70490000N019","DE90320145784030304000",
                                  "GIK950070W30BN075904000","GR0311005022510910001006006",
                                  "GT09092R80T006121J02020100A0","GW030014108011346087G0W16",
                                  "HN0000053200S1002P0041I0040A","HU71021101600310010014017081",
                                  "IS615415063420300593519770","AA0161517018321Z",
                                  "IR122342113048341341231422","IQ8648Q298I00517253B19N",
                                  "IE7A2312K58159291B4I36","IL000990801909299909060",
                                  "IT26054006000352X0111804110","JO490O020C00000010031030B0J100",
                                  "KZK20500T001085Z4116","XK016590436222171058",
                                  "KW00081001001050300060KB41C02U","LVK0N10008001534590AB",
                                  "LB09200010109009911914020026","LI301200304A11200828A",
                                  "LT012000001100010111","LU104060780002059440",
                                  "MK20525980401800700","MG3244214414343310221233211",
                                  "ML23431221347421311A13243542","MT500SM101TASAC8L00ML10134TT420",
                                  "MR1450000300012010015307623","MU0U0M1B0001R31M10007O30002M10",
                                  "MD21005G21421830A0010460","MC9710221023018623800541005",
                                  "ME23651721500040850595","MA10010006019401205105590234",
                                  "MZ12433743424194232121113","NL0B67A41100N431A9",
                                  "NI0000C0312220900A0003MB03000010","NE81013580302008031500NE0006",
                                  "NO1478093716911","PK02604L00073B1103052S6C",
                                  "PS35L00000P9A0700S10242246000","PL20100482416710191079008101",
                                  "PT47018051420912600053325","QA03D95E086D0F8B01C5H02BO47GA",
                                  "RO9A14034870B0300A5A91A0","LC000M51130010210M50221HE0500000",
                                  "SM80002060981003200002007U5","ST00011000830015151146082",
                                  "SA0000061081080061503970","SN541142A1143131332413222342",
                                  "RS69516030196106053201","SC90BU70S8C0010S1D01000S1410000",
                                  "SK0411457000670389201421","SI00920113451038060",
                                  "ES4050823004109202501131","SE5457080456908306000250",
                                  "CH3507262089139160572","TL600301874585893012017",
                                  "TG0169033G054000560T04003704","TN9180109357150058836384",
                                  "TR046619821337618530050740","UA920032610916220670302063005",
                                  "AE715720941238305463360","GB8K912WB190621636391N",
                                  "GB96BARC202015300934591","GB12BARC20201530093A59",
                                  "GB2LABBY09012857201707","GB01BARC20714583608387",
                                  "GB00HLFX11016111455365", "US64SVBKUS6S3300958879"]
  
  iban_numbers_invalid.forEach((ib) => {
  cy.request({
    failOnStatusCode: false,
    method: 'POST',
    url: `${apiUrl}/validate-iban`,
    headers: {
      "Content-Type": "application/json"
    },
    body: {
      iban_number: ib
    }
  }).then((response) => {
    assert.equal(response.status, 400, `For IBAN number ${ib} should return 400 as status code`)

  })
})
})


})